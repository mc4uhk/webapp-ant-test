<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />

    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="learn-jquery.css" />

    <link
      type="text/css"
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.css"
    />
    <link
      type="text/css"
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid-theme.css"
    />

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.js"
    ></script>
    <meta charset="UTF-8" />
    <title>CSS Position</title>

    <!-- 
        Reference
        jQuery Crash Course [1] - Intro & Selectors
        https://www.youtube.com/watch?v=3nrLc_JOF7k
     -->
  </head>
  <body>
    <div class="h1">
      <span class="badge bg-primary"> Hi </span>
    </div>
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>

    <span
      class="d-inline-block"
      tabindex="0"
      data-bs-toggle="tooltip"
      title="Disabled tooltip"
    >
      <button
        class="btn btn-primary"
        style="pointer-events: none"
        type="button"
        disabled
      >
        Disabled button
      </button>
    </span>

    <button
      type="button"
      class="btn btn-secondary"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Tooltip on top"
    >
      Tooltip on top
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      data-bs-toggle="tooltip"
      data-bs-placement="right"
      title="Tooltip on right"
    >
      Tooltip on right
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      data-bs-toggle="tooltip"
      data-bs-placement="bottom"
      title="Tooltip on bottom"
    >
      Tooltip on bottom
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      data-bs-toggle="tooltip"
      data-bs-placement="left"
      title="Tooltip on left"
    >
      Tooltip on left
    </button>

    <input type="button" onclick="goSave()" value="Save" />
    <input type="button" onclick="goTest()" value="Test" />

    <div class="container">
      <div class="row">
        <div class="col">
          1 of 2
          <div class="d-flex flex-column flex-wrap m-3" style="height: 100vh">
            <div class="card m-1 align-self-start" style="width: 18rem">
              <div class="card-body p-0">
                <h5 class="card-title bg-primary p-1">Card title</h5>
                <h6 class="card-subtitle mb-2 text-muted p-1">Card subtitle</h6>
                <p class="card-text p-1">
                  Sed ut perspiciatis unde omnis iste natus error sit voluptatem
                  accusantium doloremque laudantium, totam rem aperiam, eaque
                  ipsa quae ab illo inventore veritatis et quasi architecto
                  beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem
                </p>
                <a href="#" class="card-link p-1">Card link</a>
                <a href="#" class="card-link">Another link</a>
              </div>
            </div>

            <div class="card m-1 align-self-start" style="width: 18rem">
              <div class="card-body p-0">
                <h5 class="card-title bg-secondary p-1">Card title</h5>
                <h6 class="card-subtitle mb-2 text-muted p-1">Card subtitle</h6>
                <p class="card-text p-1">
                  Some quick example text to build on the card title and make up
                  the bulk of the card's content. quia voluptas sit aspernatur
                  aut odit aut fugit, sed quia consequuntur magni dolores eos
                  qui ratione voluptatem sequi nesciunt. Neque porro quisquam
                  est, qui dolorem ipsum quia dolor sit amet, consectetur,
                  adipisci velit, sed quia non numquam eius modi tempora
                  incidunt ut labore et dolore magnam aliquam quaerat
                  voluptatem. Ut enim ad minima veniam, quis nostrum
                  exercitationem ullam corporis suscipit laboriosam, nisi ut
                  aliquid ex ea commodi consequatur? Quis autem vel eum iure
                  reprehenderit qui in ea voluptate velit esse quam nihil
                  molestiae consequatur, vel illum qui dolorem eum fugiat quo
                  voluptas nulla pariatur?
                </p>
                <a href="#" class="card-link p-1">Card link</a>
                <a href="#" class="card-link">Another link</a>
              </div>
            </div>

            <div class="card m-1 align-self-start" style="width: 18rem">
              <div class="card-body p-0">
                <h5 class="card-title bg-success p-1">Card title</h5>
                <h6 class="card-subtitle mb-2 text-muted p-1">Card subtitle</h6>
                <p class="card-text p-1">
                  Some quick example text to build on the card title and make up
                  the bulk of the card's content.
                </p>
                <a href="#" class="card-link p-1">Card link</a>
                <a href="#" class="card-link">Another link</a>
              </div>
            </div>

            <div class="card m-1 align-self-start" style="width: 18rem">
              <div class="card-body p-0">
                <h5 class="card-title bg-warning p-1">Card title</h5>
                <h6 class="card-subtitle mb-2 text-muted p-1">Card subtitle</h6>
                <p class="card-text p-1">
                  Some quick example text to build on the card title and make up
                  the bulk of the card's content.
                </p>
                <a href="#" class="card-link p-1">Card link</a>
                <a href="#" class="card-link">Another link</a>
              </div>
            </div>
          </div>
        </div>

        <div class="col">
          2 of 2
          <div id="jsGrid"></div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>
  </body>

  <script>
    //update field if click on Not the cell
    $(function () {
      $("#jsGrid").on("click", (args) => {
        console.log(args.target);
        if (!$(args.target).is("td") && !$(args.target).is("input")) {
          $("#jsGrid").jsGrid("updateItem");
        }
      });
    });

    function goSave() {}
    function goTest() {
      console.log("Test");
      console.log(JSON.stringify(clients));
    }

    var isEditing = false;
    var clients = [
      {
        Name: "Otto Clay",
        Age: 25,
        Country: 1,
        Address: "Ap #897-1459 Quam Avenue",
        Married: false,
        courses: [{ name: "Chinese" }, { name: "English" }, { name: "Math" }],
      },
      {
        Name: "Connor Johnston",
        Age: 45,
        Country: 2,
        Address: "Ap #370-4647 Dis Av.",
        Married: true,
      },
      {
        Name: "Lacey Hess",
        Age: 29,
        Country: 3,
        Address: "Ap #365-8835 Integer St.",
        Married: false,
      },
      {
        Name: "Timothy Henson",
        Age: 56,
        Country: 1,
        Address: "911-5143 Luctus Ave",
        Married: true,
      },
      {
        Name: "Ramona Benton",
        Age: 32,
        Country: 3,
        Address: "Ap #614-689 Vehicula Street",
        Married: false,
      },
    ];

    var countries = [
      { Name: "", Id: 0 },
      { Name: "United States", Id: 1 },
      { Name: "Canada", Id: 2 },
      { Name: "United Kingdom", Id: 3 },
    ];

    $("#jsGrid").jsGrid({
      width: "100%",
      height: "400px",

      editing: true,
      sorting: true,
      paging: true,

      data: clients,

      rowClick: function (args) {
        if (this._editingRow) this.updateItem();

        console.log(this._editingRow);
        console.log(args);
        console.log(args.item.Married);

        if (this.editing) {
          this.editItem($(args.event.target).closest("tr"));
        }
      },

      fields: [
        {
          name: "Name",
          type: "text",
          width: 150,
          validate: "required",
          editing: false,
        },
        { name: "Age", type: "number", width: 50, editing: true },
        { name: "Address", type: "text", width: 200, editing: true },
        {
          name: "Country",
          type: "select",
          items: countries,
          valueField: "Id",
          textField: "Name",
        },
        {
          name: "Married",
          type: "checkbox",
          title: "Is Married",
          sorting: false,
        },
      ],
    });

    function showSelected() {
      // clients.forEach((client, i) => console.log(client.Married ? i : ""));
      console.log(clients.filter((client) => client.Married));
    }

    var tooltipTriggerList = [].slice.call(
      document.querySelectorAll('[data-bs-toggle="tooltip"]')
    );
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });
  </script>
</html>
